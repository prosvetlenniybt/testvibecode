<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>–°—Ç–∞–Ω–¥–∞—Ä—Ç —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    :root {
      --bg-main: #000000;
      --bg-card: #05070b;
      --bg-section: #111318;
      --bg-chip: #050910;
      --accent: #0f8bff;
      --accent-soft: #0b3a84;
      --accent-bar: #0098ff;
      --text-primary: #ffffff;
      --text-secondary: #9ca3af;
      --text-muted: #6b7280;
      --border-soft: #1f2933;
      --divider: #171923;
      --danger: #facc15;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      background: #0b1014;
      font-family: -apple-system, BlinkMacSystemFont, "SF Pro Text", system-ui,
        sans-serif;
      color: var(--text-primary);
    }

    .phone {
      width: 390px;
      max-width: 100%;
      background: var(--bg-main);
      border-radius: 28px;
      padding: 14px 10px 24px;
      box-shadow: 0 18px 45px rgba(0, 0, 0, 0.9);
      overflow: hidden;
    }

    .screen {
      border-radius: 22px;
      background: radial-gradient(circle at 50% -40%, #1a2a40 0, #020308 52%);
      padding: 10px 14px 24px;
      position: relative;
    }

    /* Status bar */
    .status-bar {
      display: flex;
      align-items: center;
      justify-content: space-between;
      font-size: 12px;
      color: var(--text-secondary);
      margin-bottom: 8px;
    }

    .status-left,
    .status-right {
      display: flex;
      align-items: center;
      gap: 4px;
    }

    .status-dot {
      width: 3px;
      height: 3px;
      border-radius: 999px;
      background: var(--text-secondary);
    }

    .status-icon {
      width: 13px;
      height: 8px;
      border-radius: 2px;
      border: 1px solid var(--text-secondary);
      position: relative;
    }

    .status-icon::after {
      content: "";
      position: absolute;
      right: -2px;
      top: 2px;
      width: 2px;
      height: 4px;
      border-radius: 1px;
      background: var(--text-secondary);
    }

    /* Header */
    .header {
      display: flex;
      align-items: center;
      margin-top: 6px;
      margin-bottom: 18px;
    }

    .back-btn {
      font-size: 20px;
      margin-right: 10px;
      cursor: default;
    }

    .header-title {
      font-size: 20px;
      font-weight: 600;
    }

    /* chips row */
    .chip-row {
      display: flex;
      justify-content: space-between;
      gap: 10px;
      margin-bottom: 26px;
      margin-top: 10px;
    }

    .chip {
      flex: 1;
      border-radius: 22px;
      padding: 8px 0;
      display: flex;
      align-items: center;
      justify-content: center;
      border: 1px solid #1e293b;
      background: var(--bg-chip);
      font-size: 13px;
      color: var(--text-secondary);
      cursor: pointer;
      user-select: none;
    }

    .chip--active {
      border-color: var(--accent);
      box-shadow: 0 0 0 1px rgba(15, 139, 255, 0.1);
      background: radial-gradient(circle at 50% -20%, #1a3e70, #060812);
      color: var(--text-primary);
      font-weight: 500;
    }

    /* Graph block */
    .graph-wrapper {
      margin-bottom: 16px;
    }

    .graph-wrapper.hidden {
      display: none;
    }

    .graph {
      width: 100%;
      height: 190px;
      position: relative;
    }

    .graph svg {
      width: 100%;
      height: 100%;
      display: block;
    }

    .graph-marker {
      position: absolute;
      bottom: 55px; /* –Ω–∞–¥ –ª–∏–Ω–∏–µ–π */
      transform: translateX(-50%);
      font-size: 18px;
      pointer-events: none;
      display: none;
    }

    .graph-marker--person {
      font-size: 19px;
    }

    .graph-marker--flag {
      font-size: 20px;
    }

    .graph-axis {
      margin-top: 4px;
      display: flex;
      justify-content: space-between;
      font-size: 10px;
      color: var(--text-muted);
      padding: 0 8px;
    }

    /* Text under graph */
    .strength-stat {
      margin-top: 14px;
      margin-bottom: 18px;
    }

    .strength-stat-title {
      font-size: 15px;
      line-height: 1.3;
      font-weight: 600;
      margin-bottom: 4px;
    }

    .strength-stat-subtitle {
      font-size: 12px;
      color: var(--text-muted);
    }

    .divider {
      height: 1px;
      background: var(--divider);
      margin: 10px 0 18px;
    }

    /* Goal */
    .goal-row {
      display: flex;
      justify-content: space-between;
      align-items: baseline;
      font-size: 13px;
      margin-bottom: 8px;
    }

    .goal-label {
      color: var(--text-secondary);
    }

    .goal-value {
      font-size: 14px;
      cursor: pointer;
    }

    .goal-value span {
      font-size: 11px;
      color: var(--text-secondary);
      margin-left: 3px;
    }

    .goal-bar {
      width: 100%;
      height: 28px;
      border-radius: 999px;
      background: #020617;
      border: 1px solid #1f2937;
      padding: 2px;
      overflow: hidden;
      cursor: pointer;
    }

    .goal-bar-inner {
      width: 0%;
      height: 100%;
      border-radius: 999px;
      background: linear-gradient(90deg, #0071ff, #00a7ff);
      display: flex;
      align-items: center;
      justify-content: flex-end;
      padding-right: 8px;
      position: relative;
      transition: width 0.25s ease-out;
    }

    .goal-bar-label {
      font-size: 12px;
      font-weight: 600;
      margin-right: 4px;
      display: none;
    }

    .goal-bar-flag {
      width: 18px;
      height: 18px;
      border-radius: 999px;
      border: 1px solid rgba(255, 255, 255, 0.7);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 11px;
      background: rgba(15, 23, 42, 0.6);
      display: none;
    }

    /* Lower section */
    .section-lower {
      margin-top: 26px;
      margin-left: -14px;
      margin-right: -14px;
      background: #111216;
      padding: 26px 18px 8px;
    }

    .section-title {
      font-size: 24px;
      line-height: 1.25;
      font-weight: 700;
      margin-bottom: 22px;
    }

    .level-card {
      margin-top: 4px;
    }

    .level-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 4px;
    }

    .level-name {
      font-size: 14px;
      font-weight: 600;
    }

    .level-name span {
      font-weight: 400;
      color: var(--text-secondary);
    }

    .level-stars {
      font-size: 14px;
      letter-spacing: 1px;
    }

    .level-stars span:first-child {
      color: var(--danger);
    }

    .level-stars span:not(:first-child) {
      color: #4b5563;
    }

    .level-text {
      margin-top: 8px;
      font-size: 12px;
      line-height: 1.5;
      color: var(--text-secondary);
    }

    /* Small tweaks for narrow screens */
    @media (max-width: 420px) {
      .phone {
        width: 100%;
        height: 100vh;
        border-radius: 0;
        box-shadow: none;
      }

      .screen {
        border-radius: 0;
      }
    }
  </style>
</head>
<body>
  <div class="phone">
    <div class="screen">
      <!-- Status bar -->
      <div class="status-bar">
        <div class="status-left">
          <span>17:10</span>
        </div>
        <div class="status-right">
          <div class="status-dot"></div>
          <div class="status-dot"></div>
          <div class="status-icon"></div>
          <span style="font-size:11px;">18</span>
        </div>
      </div>

      <!-- Header -->
      <div class="header">
        <div class="back-btn">‚Üê</div>
        <div class="header-title">–°—Ç–∞–Ω–¥–∞—Ä—Ç —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è</div>
      </div>

      <!-- Chips -->
      <div class="chip-row">
        <div class="chip" id="chip-sex">–ü–æ–ª</div>
        <div class="chip" id="chip-age">–í–æ–∑—Ä–∞—Å—Ç</div>
        <div class="chip" id="chip-weight">–í–µ—Å —Ç–µ–ª–∞</div>
      </div>

      <!-- Graph -->
      <div class="graph-wrapper hidden" id="graph-wrapper">
        <div class="graph" id="graph">
          <svg viewBox="0 0 360 190" preserveAspectRatio="none">
            <defs>
              <linearGradient id="graphFill" x1="0" x2="0" y1="0" y2="1">
                <stop offset="0%" stop-color="#007bff" stop-opacity="0.75" />
                <stop offset="70%" stop-color="#003366" stop-opacity="0.25" />
                <stop offset="100%" stop-color="#000000" stop-opacity="0" />
              </linearGradient>
            </defs>
            <!-- Filled area -->
            <path
              d="M10 150
                 Q 60 70 120 80
                 T 210 70
                 T 350 145
                 L 350 180
                 L 10 180 Z"
              fill="url(#graphFill)"
            />
            <!-- Stroke -->
            <path
              d="M10 150
                 Q 60 70 120 80
                 T 210 70
                 T 350 145"
              fill="none"
              stroke="#1ea0ff"
              stroke-width="2.2"
            />
          </svg>

          <!-- –ú–∞—Ä–∫–µ—Ä—ã –Ω–∞ –≥—Ä–∞—Ñ–∏–∫–µ -->
          <div class="graph-marker graph-marker--person" id="marker-person">üë§</div>
          <div class="graph-marker graph-marker--flag" id="marker-flag">üèÅ</div>
        </div>

        <div class="graph-axis">
          <span>30</span>
          <span>60</span>
          <span>90</span>
          <span>120</span>
          <span>150</span>
          <span>180</span>
        </div>
      </div>

      <!-- Text under graph -->
      <div class="strength-stat">
        <div class="strength-stat-title">
          –í—ã –ø–æ–¥–Ω–∏–º–∞–µ—Ç–µ –±–æ–ª—å—à–µ, —á–µ–º 41,2%<br />
          –∞—Ç–ª–µ—Ç–æ–≤
        </div>
        <div class="strength-stat-subtitle">
          –¥–ª—è –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –≤–æ–∑—Ä–∞—Å—Ç–∞ –∏ –≤–µ—Å–∞
        </div>
      </div>

      <div class="divider"></div>

      <!-- Goal -->
      <div class="goal-row">
        <div class="goal-label">–¶–µ–ª—å (–ú–∞–∫—Å. –≤–µ—Å)</div>
        <div class="goal-value" id="goal-value">--<span>kg</span></div>
      </div>

      <div class="goal-bar" id="goal-bar">
        <div class="goal-bar-inner" id="goal-bar-inner">
          <div class="goal-bar-label" id="goal-bar-label">--kg</div>
          <div class="goal-bar-flag" id="goal-bar-flag">üèÅ</div>
        </div>
      </div>

      <!-- Lower section -->
      <div class="section-lower">
        <div class="section-title">
          –ß—Ç–æ –æ–∑–Ω–∞—á–∞—é—Ç<br />
          —É—Ä–æ–≤–Ω–∏ —Å–∏–ª—ã?
        </div>

        <div class="level-card">
          <div class="level-header">
            <div class="level-name">
              –ù–∞—á–∏–Ω–∞—é—â–∏–π <span>(57,5 –∫–≥)</span>
            </div>
            <div class="level-stars">
              <span>‚òÖ</span><span>‚òÖ</span><span>‚òÖ</span><span>‚òÖ</span><span>‚òÖ</span>
            </div>
          </div>
          <div class="level-text">
            –°–∏–ª—å–Ω–µ–µ, —á–µ–º 5% –ø–æ–¥–Ω–∏–º–∞—é—â–∏—Ö –≤–µ—Å–∞ –Ω–∞ –≤—ã–±—Ä–∞–Ω–Ω–æ–º –≤–æ–∑—Ä–∞—Å—Ç–µ –∏ –≤–µ—Å–µ.
            –ù–æ–≤–∏—á–æ–∫ –æ–±—ã—á–Ω–æ —Ç—Ä–µ–Ω–∏—Ä—É–µ—Ç—Å—è –ø–æ –º–µ–Ω—å—à–µ–π –º–µ—Ä–µ –º–µ—Å—è—Ü –∏ –º–æ–∂–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å
            –¥–≤–∏–∂–µ–Ω–∏–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ.
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    // –ú–æ–¥–µ–ª—å —Å–æ—Å—Ç–æ—è–Ω–∏—è
    let state = {
      sex: null,         // "–ú—É–∂." / "–ñ–µ–Ω."
      age: null,         // —á–∏—Å–ª–æ
      bodyWeight: null,  // —á–∏—Å–ª–æ
      goalWeight: null,  // —Ü–µ–ª—å (–º–∞–∫—Å)
      currentWeight: null // —Ä–∞–±–æ—á–∏–π –≤–µ—Å (–∑–Ω–∞—á–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–∞)
    };

    const chipSex = document.getElementById('chip-sex');
    const chipAge = document.getElementById('chip-age');
    const chipWeight = document.getElementById('chip-weight');

    const graphWrapper = document.getElementById('graph-wrapper');
    const markerPerson = document.getElementById('marker-person');
    const markerFlag = document.getElementById('marker-flag');

    const goalValue = document.getElementById('goal-value');
    const goalBar = document.getElementById('goal-bar');
    const goalBarInner = document.getElementById('goal-bar-inner');
    const goalBarLabel = document.getElementById('goal-bar-label');
    const goalBarFlag = document.getElementById('goal-bar-flag');

    // –î–∏–∞–ø–∞–∑–æ–Ω –≥—Ä–∞—Ñ–∏–∫–∞ –ø–æ –æ—Å–∏ X (kg)
    const GRAPH_MIN = 30;
    const GRAPH_MAX = 180;

    function clamp(val, min, max) {
      return Math.min(Math.max(val, min), max);
    }

    function mapWeightToX(weight) {
      // 5% –æ—Ç—Å—Ç—É–ø —Å–ª–µ–≤–∞ –∏ —Å–ø—Ä–∞–≤–∞, —á—Ç–æ–±—ã –Ω–µ –ø—Ä–∏–ª–∏–ø–∞–ª–æ –∫ –∫—Ä–∞—è–º
      const clamped = clamp(weight, GRAPH_MIN, GRAPH_MAX);
      const rel = (clamped - GRAPH_MIN) / (GRAPH_MAX - GRAPH_MIN); // 0..1
      return 5 + rel * 90; // 5%..95%
    }

    function updateGraphVisibility() {
      const ready = !!(state.sex && state.age && state.bodyWeight);
      graphWrapper.classList.toggle('hidden', !ready);
    }

    function updateChips() {
      // sex
      if (state.sex) {
        chipSex.textContent = state.sex === 'male' ? '–ú—É–∂.' : '–ñ–µ–Ω.';
        chipSex.classList.add('chip--active');
      } else {
        chipSex.textContent = '–ü–æ–ª';
        chipSex.classList.remove('chip--active');
      }

      // age
      if (state.age) {
        chipAge.textContent = state.age + ' –ª–µ—Ç';
        chipAge.classList.add('chip--active');
      } else {
        chipAge.textContent = '–í–æ–∑—Ä–∞—Å—Ç';
        chipAge.classList.remove('chip--active');
      }

      // body weight
      if (state.bodyWeight) {
        chipWeight.textContent = state.bodyWeight + ' –∫–≥';
        chipWeight.classList.add('chip--active');
      } else {
        chipWeight.textContent = '–í–µ—Å —Ç–µ–ª–∞';
        chipWeight.classList.remove('chip--active');
      }
    }

    function updateGoalArea() {
      // —Ç–µ–∫—Å—Ç —Ü–µ–ª–∏
      if (state.goalWeight) {
        goalValue.innerHTML =
          state.goalWeight.toFixed(1) + '<span>kg</span>';
      } else {
        goalValue.innerHTML = '--<span>kg</span>';
      }

      // –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä
      if (state.currentWeight && state.goalWeight) {
        const percent = clamp(
          (state.currentWeight / state.goalWeight) * 100,
          0,
          100
        );
        goalBarInner.style.width = percent + '%';
        goalBarLabel.textContent = state.currentWeight.toFixed(1) + 'kg';
        goalBarLabel.style.display = 'block';
        goalBarFlag.style.display = 'flex';
      } else {
        goalBarInner.style.width = '0%';
        goalBarLabel.textContent = '--kg';
        goalBarLabel.style.display = 'none';
        goalBarFlag.style.display = 'none';
      }
    }

    function updateGraphMarkers() {
      const graphVisible = !graphWrapper.classList.contains('hidden');

      // –º–∞—Ä–∫–µ—Ä —á–µ–ª–æ–≤–µ–∫–∞ (—Ç–µ–∫—É—â–∏–π –≤–µ—Å)
      if (graphVisible && state.currentWeight) {
        const x = mapWeightToX(state.currentWeight);
        markerPerson.style.left = x + '%';
        markerPerson.style.display = 'block';
      } else {
        markerPerson.style.display = 'none';
      }

      // –º–∞—Ä–∫–µ—Ä —Ñ–ª–∞–≥–∞ (—Ü–µ–ª—å)
      if (graphVisible && state.goalWeight) {
        const x = mapWeightToX(state.goalWeight);
        markerFlag.style.left = x + '%';
        markerFlag.style.display = 'block';
      } else {
        markerFlag.style.display = 'none';
      }
    }

    function redraw() {
      updateChips();
      updateGraphVisibility();
      updateGoalArea();
      updateGraphMarkers();
    }

    // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –≤–≤–æ–¥–∞
    chipSex.addEventListener('click', () => {
      const choice = prompt('–í–≤–µ–¥–∏—Ç–µ –ø–æ–ª (–º/–∂):', state.sex === 'female' ? '–∂' : '–º');
      if (!choice) return;
      const val = choice.trim().toLowerCase();
      if (val.startsWith('–º')) state.sex = 'male';
      else if (val.startsWith('–∂')) state.sex = 'female';
      redraw();
    });

    chipAge.addEventListener('click', () => {
      const input = prompt('–í–≤–µ–¥–∏—Ç–µ –≤–æ–∑—Ä–∞—Å—Ç (–ø–æ–ª–Ω—ã—Ö –ª–µ—Ç):', state.age || '');
      if (!input) return;
      const n = parseInt(input.replace(',', '.').trim(), 10);
      if (!isNaN(n) && n > 0 && n < 120) {
        state.age = n;
        redraw();
      }
    });

    chipWeight.addEventListener('click', () => {
      const input = prompt('–í–≤–µ–¥–∏—Ç–µ –≤–µ—Å —Ç–µ–ª–∞ (–∫–≥):', state.bodyWeight || '');
      if (!input) return;
      const n = parseFloat(input.replace(',', '.').trim());
      if (!isNaN(n) && n > 0 && n < 400) {
        state.bodyWeight = n;
        redraw();
      }
    });

    goalValue.addEventListener('click', () => {
      const input = prompt(
        '–í–≤–µ–¥–∏—Ç–µ —Ü–µ–ª–µ–≤–æ–π –≤–µ—Å (–∫–≥) ‚Äî –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ:',
        state.goalWeight || ''
      );
      if (!input) return;
      const n = parseFloat(input.replace(',', '.').trim());
      if (!isNaN(n) && n > 0 && n < 400) {
        state.goalWeight = n;
        redraw();
      }
    });

    goalBar.addEventListener('click', () => {
      const input = prompt(
        '–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—É—â–∏–π —Ä–∞–±–æ—á–∏–π –≤–µ—Å (–∫–≥):',
        state.currentWeight || ''
      );
      if (!input) return;
      const n = parseFloat(input.replace(',', '.').trim());
      if (!isNaN(n) && n > 0 && n < 400) {
        state.currentWeight = n;
        redraw();
      }
    });

    // –Ω–∞—á–∞–ª—å–Ω–∞—è –æ—Ç—Ä–∏—Å–æ–≤–∫–∞
    redraw();
  </script>
</body>
</html>
